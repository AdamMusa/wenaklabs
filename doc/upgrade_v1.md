# Upgrade from v1.0.0

Steps to follow:
- Dump database of v1
- Make a gzipped tarball of public/uploads
- Install Fab-manager v4.3.4+
- Restore the DB dump in the new postgres instance
- Open a psql shell, then:
  ```sql
  TRUNCATE schema_migrations;
  INSERT INTO schema_migrations (version)
    VALUES
      ('20140409083104'),
      ('20140414141134'),
      ('20140703231208'),
      ('20140703235739'),
      ('20140703233420'),
      ('20140703233942'),
      ('20140409083610'),
      ('20140409153915'),
      ('20140410101026'),
      ('20140622122944'),
      ('20150108082541'),
      ('20140415123625'),
      ('20140522181148'),
      ('20140526144327'),
      ('20140410140516'),
      ('20140623023557'),
      ('20140410162151'),
      ('20140411152729'),
      ('20140415104151'),
      ('20140528134944'),
      ('20140528140257'),
      ('20140416130838'),
      ('20140513152025'),
      ('20140422085949'),
      ('20141217172843'),
      ('20140522115617'),
      ('20140522175539'),
      ('20140522175714'),
      ('20140522180032'),
      ('20140522180930'),
      ('20140522181011'),
      ('20140523083230'),
      ('20140527092045'),
      ('20150218154032'),
      ('20140603084413'),
      ('20140604094514'),
      ('20140622121724'),
      ('20140710144142'),
      ('20140711084809'),
      ('20140717143735'),
      ('20140710144427'),
      ('20140710144610'),
      ('20200408101654');
  ```
- `rails db:migrate`
- `rails fablab:maintenance:migrate_v1_notifications`
- Extract the tarball of the uploads in the new instance folder
- Start the new instance and delete the old one

